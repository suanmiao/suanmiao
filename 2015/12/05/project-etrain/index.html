<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> project-etrain · 蒜白</title><meta name="description" content="Project Brief
Description: energy saving data transmission system, which works by managing heartbeat and data packets
Conference:  ICDCS 2015, Ohio, Columbus
Contribution: The first to prove the feasibility and efficiency of managing heartbeat packets, and the effect was remarkable. 
Relating Techniques:  Android Framework Layer,  Power State in RRC(Radio Resource Control),  Android Broadcast component.

Background:
Globa"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="http://fonts.useso.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">博客</a></li><li class="nav-list-item"><a href="http://weibo.com/suanmiao" target="_blank" class="nav-list-link">微博</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li><li class="nav-list-item"><a href="https://github.com/suanmiao" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">project-etrain</h1><div class="post-meta"><div class="post-time">Dec 5, 2015</div></div><div class="post-content"><h2 id="Project_Brief">Project Brief</h2><ul>
<li><strong>Description:</strong> energy saving data transmission system, which works by managing heartbeat and data packets</li>
<li><strong>Conference:</strong>  ICDCS 2015, Ohio, Columbus</li>
<li><strong>Contribution:</strong> The first to prove the feasibility and efficiency of managing heartbeat packets, and the effect was remarkable. </li>
<li><strong>Relating Techniques:</strong>  Android Framework Layer,  Power State in RRC(Radio Resource Control),  Android Broadcast component.</li>
</ul>
<h2 id="Background:">Background:</h2><ul>
<li>Global rapid development of mobile devices, both in quantity and capability, makes smartphones ubiquitous in our life. Under this circumstance, smartphones become increasingly important for people’s daily life</li>
<li>On the other hand, diverse mobile applications on mobile phone support real-time communication services(e.g., WhatsApp, Facebook, WeChat), these applications consume more and more energy, make battery life shorter and shorter </li>
</ul>
<h2 id="Process">Process</h2><h4 id="1-(Problem_Locating)_Where_does_our_battery_gone?">1.(Problem Locating) Where does our battery gone?</h4><p>After monitoring on energy consumption, we found the energy consumption distribution for a daily use of smartphone like this:</p>
<p><img src="/img/etrain/energy_consumption_distribution.png" alt="Alt text"></p>
<p>From the distribution we found that Network interface took up large part of total energy. And most of “Network Energy” was consumed by Cellular network. Under close inspection, we found “Tail energy” phenomenon in network transmission. After data transmission, the network interface in cellphone would linger in high power state for about 10 seconds. Energy consumption in this period was called “Tail energy”, which took large part in network energy. </p>
<p><img src="/img/etrain/power_state.png" alt="Alt text"></p>
<p>In order to figure out the cause of “Tail energy” in smartphone, we conducted a measurement on smartphone and found that power consumption on heartbeat transmission, a mechanism for instant message applications to keep in touch with servers, was the major cause of energy consumption( takes up about 87% of total transmission energy).</p>
<p><img src="/img/etrain/heartbeat_energy_consumption.png" alt="Alt text"></p>
<p>Besides that, heartbeat transmission periods for different applications were different, thus transmission happened more randomly and “tail time” distribute randomly. In order to reduce “tail time”, we manage different heartbeat and data transmissions.  </p>
<p><img src="/img/etrain/heartbeat_distribution.png" alt="Alt text"></p>
<h4 id="2-(Models_Formulation)_How_to_manage_packets?">2.(Models Formulation) How to manage packets?</h4><p>Firstly, we identify the tail energy for each package as follow:<br>(Denote pI, pD, and pF as power levels of the IDLE, DCH and FACH states)</p>
<p><img src="/img/etrain/tail_energy_formulation.png" alt="Alt text"></p>
<p>Secondly, there would be delay for data packets if we manage their transmission. And for different data packets, there were different extent of tolerance for delay. Then, we can formulate delay cost model as follow:<br>(suppose a packet u arrives at time ta(u), then the additional delay incurred is delay = ts(u) − ta(u). Size(u) denotes the size of packet u, B(u) denotes the average bandwidth received by u and tl(u) = size(u)/B(u) is the corresponding transmission time. Weighting coefficient wi reflects the user’s preference on the application i that generates u. The profile function fi(delay) characterizes how the performance degrades with the increase of delay.)</p>
<p><img src="/img/etrain/delay_cost_model.png" alt="Alt text"></p>
<p>Thirdly, a efficient management calls for a proper strategy. Taking tolerance, packet size, transmission efficiency, user experience into account, we devise transmission strategy as follow(sure, there was a long and tough procedure before we devise this strategy):</p>
<p><img src="/img/etrain/transmission_strategy.png" alt="Alt text"></p>
<h4 id="3-_System_Implementation">3. System Implementation</h4><p>Our system consisted of three components: Heartbeat Monitor, eTrain Scheduler and eTrain Broadcast</p>
<ul>
<li>Heartbeat Monitor was responsible for monitoring heartbeat behaviors of each application and inform other components if there was a heartbeat behavior.</li>
<li>eTrain Scheduler was responsible for storage,  delay and transmission of data packets. After some calculation, this component will chose specific data packets from waiting queue and send them.</li>
<li>eTrain Broadcast component was the connection between Heartbeat Monitor and eTrain Scheduler. Because heartbeat monitoring and data scheduling behaviors happen in different system process, there should be a system-level communication between these components.</li>
</ul>
<p><img src="/img/etrain/system_overview.png" alt="Alt text"></p>
<h4 id="4-Evaluation">4.Evaluation</h4><p>Taking real world usage into account, we record user behaviors in three major application, email, Weibo(Chinese Twitter), and cloud storage app. The real world trace took place in cellular networks, 2-hours in campus. </p>
<p>Then, we synthesized similar data packets in laboratory and simulate previous user behaviors on a same smartphone, which was monitored by power monitor. </p>
<p>In order make convincing comparison, we chose two relating models, PerES, eTime, as reference.</p>
<p>Results were as follow, our system could save 12%-30% of total energy. The efficiency depended on delay of data packets.</p>
<p><img src="/img/etrain/comparison_with_others.png" alt="Alt text"></p>
<h3 id="Relating_Information">Relating Information</h3><p>Experimental setup</p>
<p><img src="/img/etrain/setups.png" alt="Alt text"></p>
<p>For users who use mobile for different period of time, the energy saving effect would also diverse. More active the user, more obvious the effect.</p>
<p><img src="/img/etrain/energy_consumption_for_different_groups.png" alt="Alt text"></p>
<h3 id="Contribution">Contribution</h3><p>We were the first to prove the feasibility and efficiency of managing heartbeat packets, and the effect was remarkable. More surprisingly, same mechanism was used in Project Doze of Android system by Google. </p>
<h2 id="Relating_Links:">Relating Links:</h2><p><a href="http://ieeexplore.ieee.org/stamp/stamp.jsp?arnumber=7164898" target="_blank" rel="external">Paper Link</a><br><a href="https://play.google.com/store/apps/details?id=me.suanmiao.zaber" target="_blank" rel="external">System Implementation App on Google Play</a>  </p>
</div></article></div></section><footer><div class="paginator"><a class="prev"> </a><a href="/2015/12/01/Project-Weclient/" class="next">下一篇</a></div></footer><script src="https://cdn.bootcss.com/mathjax/2.5.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></body></html>